import { Injectable } from "@angular/core";
import { Subject } from "rxjs";
import { ParserEventsAndUpdates } from "../app/parser-setup-view/ParserEvents";
import { ILogHeader, ISymanticLogs } from "../common/loggraph";

@Injectable({
  providedIn: 'root'
})
export class TestDataLoader {
  public onTestDataReady: Subject<ISymanticLogs> = new Subject<ISymanticLogs>();
  public onTestHeaderReady: Subject<ILogHeader> = new Subject<ILogHeader>();
  constructor(private myParserEvents: ParserEventsAndUpdates) {
  }
  Load(): void {
    this.myParserEvents.SetCurrentParser(JSON.parse(`{ "Name": "SingleLineTemplate", "HeaderLineCount": 0, "Syntaxes": [ { "Id": 1, "BeginMarker": "", "EndMarker": "newline", "SyntaxType": 1, "Elements": [ { "Name": "ProcessName", "EndSeparator": " ", "Type": 1, "ChildSyntaxId": null, "ExtendedParser": null }, { "Name": "PID", "EndSeparator": " ", "Type": 2, "ChildSyntaxId": null, "ExtendedParser": null }, { "Name": "TID", "EndSeparator": " ", "Type": 2, "ChildSyntaxId": null, "ExtendedParser": null }, { "Name": "Time", "EndSeparator": " ", "Type": 4, "ChildSyntaxId": null, "ExtendedParser": null, "DateTimeFormat": "HH:mm:ss,fff" }, { "Name": "Domain", "EndSeparator": " ", "Type": 1, "ChildSyntaxId": null, "ExtendedParser": null }, { "Name": "Function", "EndSeparator": " - ", "Type": 1, "ChildSyntaxId": null, "ExtendedParser": null }, { "Name": "Trace", "EndSeparator": null, "Type": 1, "ChildSyntaxId": null, "ExtendedParser": null } ] } ] }`), "test");
    const aLogHeader = JSON.parse(`{"columnNames":["Header","LogId","ProcessName","PID","TID","Time","Domain","Function","Trace","Footer"],"columnTypes":[6,2,1,2,2,4,1,1,1,1]}`);
    const aLogData = JSON.parse(`{"logs":[[true,1,"TestPorc1",124,12,"22:04:55.3330000","Domain1","Function()","Trace Goes here.",""],[true,2,"TestPorc",156,12,"22:04:57.3330000","Domain2","Function2()","Trace Goes here2.",""],[true,3,"TestPorc",124,12,"22:04:55.3330000","Domain2","Function()","Trace Goes here.",""],[true,4,"TestPorc",156,12,"22:04:57.3330000","Domain1","Function2()","Trace Goes here2.",""],[true,5,"TestPorc",124,12,"22:04:55.3330000","Domain3","Function()","Trace Goes here.",""],[true,6,"TestPorc",156,12,"22:04:57.3330000","Domain3","Function2()","Trace Goes here2.",""],[true,7,"TestPorc",124,12,"22:04:55.3330000","Domain3","Function()","Trace Goes here.",""],[true,8,"TestPorc",156,12,"22:04:57.3330000","Domain1","Function2()","Trace Goes here2.",""],[true,9,"TestPorc",124,12,"22:04:55.3330000","Domain1","Function()","Trace Goes here.",""],[true,10,"TestPorc",156,12,"22:04:57.3330000","Domain2","Function2()","Trace Goes here2.",""],[true,11,"TestPorc",124,12,"22:04:55.3330000","Domain2","Function()","Trace Goes here.",""],[true,12,"TestPorc",156,12,"22:04:57.3330000","Domain1","Function2()","Trace Goes here2.",""],[true,13,"TestPorc",124,12,"22:04:55.3330000","Domain3","Function()","Trace Goes here.",""],[true,14,"TestPorc",156,12,"22:04:57.3330000","Domain3","Function2()","Trace Goes here2.",""],[true,15,"TestPorc",124,12,"22:04:55.3330000","Domain3","Function()","Trace Goes here.",""],[true,16,"TestPorc",156,12,"22:04:57.3330000","Domain1","Function2()","Trace Goes here2.",""],[true,17,"TestPorc",124,12,"22:04:55.3330000","Domain1","Function()","Trace Goes here.",""],[true,18,"TestPorc",156,12,"22:04:57.3330000","Domain2","Function2()","Trace Goes here2.",""],[true,19,"TestPorc",124,12,"22:04:55.3330000","Domain2","Function()","Trace Goes here.",""],[true,20,"TestPorc",156,12,"22:04:57.3330000","Domain1","Function2()","Trace Goes here2.",""],[true,21,"TestPorc",124,12,"22:04:55.3330000","Domain3","Function()","Trace Goes here.",""],[true,22,"TestPorc",156,12,"22:04:57.3330000","Domain3","Function2()","Trace Goes here2.",""],[true,23,"TestPorc",124,12,"22:04:55.3330000","Domain3","Function()","Trace Goes here.",""],[true,24,"TestPorc",156,12,"22:04:57.3330000","Domain1","Function2()","Trace Goes here2.",""],[true,25,"TestPorc",124,12,"22:04:55.3330000","Domain1","Function()","Trace Goes here.",""],[true,26,"TestPorc",156,12,"22:04:57.3330000","Domain2","Function2()","Trace Goes here2.",""],[true,27,"TestPorc",124,12,"22:04:55.3330000","Domain2","Function()","Trace Goes here.",""],[true,28,"TestPorc",156,12,"22:04:57.3330000","Domain1","Function2()","Trace Goes here2.",""],[true,29,"TestPorc",124,12,"22:04:55.3330000","Domain3","Function()","Trace Goes here.",""],[true,30,"TestPorc",156,12,"22:04:57.3330000","Domain3","Function2()","Trace Goes here2.",""],[true,31,"TestPorc",124,12,"22:04:55.3330000","Domain3","Function()","Trace Goes here.",""],[true,32,"TestPorc",156,12,"22:04:57.3330000","Domain1","Function2()","Trace Goes here2.",""],[true,33,"TestPorc",124,12,"22:04:55.3330000","Domain1","Function()","Trace Goes here.",""],[true,34,"TestPorc",156,12,"22:04:57.3330000","Domain2","Function2()","Trace Goes here2.",""],[true,35,"TestPorc",124,12,"22:04:55.3330000","Domain2","Function()","Trace Goes here.",""],[true,36,"TestPorc",156,12,"22:04:57.3330000","Domain1","Function2()","Trace Goes here2.",""],[true,37,"TestPorc",124,12,"22:04:55.3330000","Domain3","Function()","Trace Goes here.",""],[true,38,"TestPorc",156,12,"22:04:57.3330000","Domain3","Function2()","Trace Goes here2.",""],[true,39,"TestPorc",124,12,"22:04:55.3330000","Domain3","Function()","Trace Goes here.",""],[true,40,"TestPorc",156,12,"22:04:57.3330000","Domain1","Function2()","Trace Goes here2.",""],[true,41,"TestPorc",124,12,"22:04:55.3330000","Domain1","Function()","Trace Goes here.",""],[true,42,"TestPorc",156,12,"22:04:57.3330000","Domain2","Function2()","Trace Goes here2.",""],[true,43,"TestPorc",124,12,"22:04:55.3330000","Domain2","Function()","Trace Goes here.",""],[true,44,"TestPorc",156,12,"22:04:57.3330000","Domain1","Function2()","Trace Goes here2.",""],[true,45,"TestPorc",124,12,"22:04:55.3330000","Domain3","Function()","Trace Goes here.",""],[true,46,"TestPorc",156,12,"22:04:57.3330000","Domain3","Function2()","Trace Goes here2.",""],[true,47,"TestPorc",124,12,"22:04:55.3330000","Domain3","Function()","Trace Goes here.",""],[true,48,"TestPorc",156,12,"22:04:57.3330000","Domain1","Function2()","Trace Goes here2.",""]]}`);
    this.onTestHeaderReady.next(aLogHeader);
    this.onTestDataReady.next(aLogData);
  }
}
